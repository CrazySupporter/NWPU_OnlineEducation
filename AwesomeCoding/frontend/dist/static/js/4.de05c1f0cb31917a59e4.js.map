{"version":3,"sources":["webpack:///./node_modules/recorder-js/lib/index.js","webpack:///src/components/components/developer/EditDialog.vue","webpack:///./src/components/components/developer/EditDialog.vue?f440","webpack:///./src/components/components/developer/EditDialog.vue","webpack:///src/components/components/developer/Test.vue","webpack:///./src/components/components/developer/Test.vue?8053","webpack:///./src/components/components/developer/Test.vue","webpack:///./node_modules/recorder-js/index.js","webpack:///./node_modules/inline-worker/index.js","webpack:///./node_modules/recorder-js/lib/microphone.js"],"names":["Object","defineProperty","exports","value","obj","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_microphone","__webpack_require__","_microphone2","__esModule","default","defaultConfig","nFrequencyBars","onAnalysed","Recorder","audioContext","config","arguments","undefined","instance","TypeError","_classCallCheck","this","assign","audioInput","realAudioInput","inputPoint","audioRecorder","rafID","analyserContext","recIndex","stream","updateAnalysers","bind","_this","Promise","resolve","createGain","createMediaStreamSource","connect","analyserNode","createAnalyser","fftSize","zeroGain","gain","destination","_this2","reject","clear","record","_this3","stop","getBuffer","buffer","exportWAV","blob","requestAnimationFrame","freqByteData","Uint8Array","frequencyBinCount","getByteFrequencyData","data","Array","lastNonZero","datum","idx","Math","floor","lineTo","handler","download","filename","forceDownload","EditDialog","name","methods","handleOpened","cancel","visible","response","confirm","developer_EditDialog","render","_vm","_h","$createElement","_c","_self","attrs","id","title","on","update:visible","$event","$set","open","close","$emit","_t","_v","_s","content","placeholder","model","callback","$$v","expression","staticClass","slot","click","type","staticRenderFns","components_developer_EditDialog","normalizeComponent","ssrContext","Test","date","Date","date2","setTime","getTime","host","host1","window","location","host2","document","domain","my_url","href","my_protocol","protocol","my_path","pathname","input","dialog","showColumn","cookies","exp_secs","new_cookie","cur_date","toUTCString","cur_date2","recorder","sockets","alert","msg","$notify","warning","message","operation","handleCreate","AudioContext","webkitAudioContext","recorder_js_default","a","navigator","mediaDevices","getUserMedia","audio","then","init","catch","err","console","log","$message","success","handleStartRecording","start","handleStopRecording","_ref","handleDownload","handleDestroy","createDialog","handleClose","getCookies","list","cookie","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","push","trim","return","createCookie","str_cookie","d","handleAlert","course_id","toTimeString","$socket","emit","info","components","developer_Test","Test_Component","Test_normalizeComponent","__webpack_exports__","module","global","WORKER_ENABLED","URL","Blob","Worker","InlineWorker","func","self","functionBody","toString","match","createObjectURL","postMessage","setTimeout","onmessage","_inlineWorker","_inlineWorker2","bufferLen","numChannels","mimeType","Microphone","source","recording","callbacks","context","node","createScriptProcessor","createJavaScriptNode","call","onaudioprocess","e","channel","inputBuffer","getChannelData","worker","command","recLength","recBuffers","sampleRate","initBuffers","mergeBuffers","result","Float32Array","offset","set","writeString","view","string","setUint8","charCodeAt","buffers","interleaved","inputL","inputR","index","inputIndex","interleave","dataview","samples","ArrayBuffer","DataView","setUint32","setUint16","output","s","max","min","setInt16","floatTo16BitPCM","audioBlob","cb","pop","Error","createElement","style","body","appendChild","url","revokeObjectURL","removeChild"],"mappings":"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","file":"static/js/4.de05c1f0cb31917a59e4.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _microphone = require('./microphone');\n\nvar _microphone2 = _interopRequireDefault(_microphone);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  nFrequencyBars: 255,\n  onAnalysed: null\n};\n\nvar Recorder = function () {\n  function Recorder(audioContext) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Recorder);\n\n    this.config = Object.assign({}, defaultConfig, config);\n\n    this.audioContext = audioContext;\n    this.audioInput = null;\n    this.realAudioInput = null;\n    this.inputPoint = null;\n    this.audioRecorder = null;\n    this.rafID = null;\n    this.analyserContext = null;\n    this.recIndex = 0;\n    this.stream = null;\n\n    this.updateAnalysers = this.updateAnalysers.bind(this);\n  }\n\n  _createClass(Recorder, [{\n    key: 'init',\n    value: function init(stream) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this.inputPoint = _this.audioContext.createGain();\n\n        _this.stream = stream;\n\n        _this.realAudioInput = _this.audioContext.createMediaStreamSource(stream);\n        _this.audioInput = _this.realAudioInput;\n        _this.audioInput.connect(_this.inputPoint);\n\n        _this.analyserNode = _this.audioContext.createAnalyser();\n        _this.analyserNode.fftSize = 2048;\n        _this.inputPoint.connect(_this.analyserNode);\n\n        _this.audioRecorder = new _microphone2.default(_this.inputPoint);\n\n        var zeroGain = _this.audioContext.createGain();\n        zeroGain.gain.value = 0.0;\n\n        _this.inputPoint.connect(zeroGain);\n        zeroGain.connect(_this.audioContext.destination);\n\n        _this.updateAnalysers();\n\n        resolve();\n      });\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        if (!_this2.audioRecorder) {\n          reject('Not currently recording');\n          return;\n        }\n\n        _this2.audioRecorder.clear();\n        _this2.audioRecorder.record();\n\n        resolve(_this2.stream);\n      });\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        _this3.audioRecorder.stop();\n\n        _this3.audioRecorder.getBuffer(function (buffer) {\n          _this3.audioRecorder.exportWAV(function (blob) {\n            return resolve({ buffer: buffer, blob: blob });\n          });\n        });\n      });\n    }\n  }, {\n    key: 'updateAnalysers',\n    value: function updateAnalysers() {\n      if (this.config.onAnalysed) {\n        requestAnimationFrame(this.updateAnalysers);\n\n        var freqByteData = new Uint8Array(this.analyserNode.frequencyBinCount);\n\n        this.analyserNode.getByteFrequencyData(freqByteData);\n\n        var data = new Array(255);\n        var lastNonZero = 0;\n        var datum = void 0;\n\n        for (var idx = 0; idx < 255; idx += 1) {\n          datum = Math.floor(freqByteData[idx]) - Math.floor(freqByteData[idx]) % 5;\n\n          if (datum !== 0) {\n            lastNonZero = idx;\n          }\n\n          data[idx] = datum;\n        }\n\n        this.config.onAnalysed({ data: data, lineTo: lastNonZero });\n      }\n    }\n  }, {\n    key: 'setOnAnalysed',\n    value: function setOnAnalysed(handler) {\n      this.config.onAnalysed = handler;\n    }\n  }]);\n\n  return Recorder;\n}();\n\nRecorder.download = function download(blob) {\n  var filename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'audio';\n\n  _microphone2.default.forceDownload(blob, filename + '.wav');\n};\n\nexports.default = Recorder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/recorder-js/lib/index.js\n// module id = CdmB\n// module chunks = 2 4","<template>\n    <el-dialog id=\"dialog-test\"\n               :title=\"config.title\"\n               :visible.sync=\"config.visible\"\n               @open=\"handleOpened\"\n               @close=\"$emit('dialogClose')\">\n        <h1>\n            <slot name=\"h1\">{{config.title}}</slot>\n        </h1>\n        <p></p>\n        <slot>{{config.content}}</slot>\n        <p></p>\n        <el-input placeholder=\"输入...\" v-model=\"config.input\"></el-input>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"cancel\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"confirm\">确 认</el-button>\n        </span>\n    </el-dialog>\n</template>\n\n<script>\n    export default {\n        name: \"EditDialog\",\n        props: {config: Object},\n        methods: {\n            handleOpened: function () {\n            },\n            cancel: function () {\n                this.config.visible = false;\n                this.config.response = false;\n            },\n            confirm: function () {\n                this.config.visible = false;\n                this.config.response = true;\n            }\n        }\n    };\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/components/developer/EditDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"id\":\"dialog-test\",\"title\":_vm.config.title,\"visible\":_vm.config.visible},on:{\"update:visible\":function($event){_vm.$set(_vm.config, \"visible\", $event)},\"open\":_vm.handleOpened,\"close\":function($event){_vm.$emit('dialogClose')}}},[_c('h1',[_vm._t(\"h1\",[_vm._v(_vm._s(_vm.config.title))])],2),_vm._v(\" \"),_c('p'),_vm._v(\" \"),_vm._t(\"default\",[_vm._v(_vm._s(_vm.config.content))]),_vm._v(\" \"),_c('p'),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"输入...\"},model:{value:(_vm.config.input),callback:function ($$v) {_vm.$set(_vm.config, \"input\", $$v)},expression:\"config.input\"}}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 认\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-578dc1ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/components/developer/EditDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-578dc1ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-578dc1ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-578dc1ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/components/developer/EditDialog.vue\n// module id = null\n// module chunks = ","<!--统一在这个页面里进行vue的测试-->\n<template>\n    <div id=\"test-view\">\n        <el-button @click=\"handleCreate\">创建录音器</el-button>\n        <el-button type=\"primary\" @click=\"handleStartRecording\">开始录音</el-button>\n        <el-button type=\"error\" @click=\"handleStopRecording\">结束录音</el-button>\n        <el-button type=\"success\" @click=\"handleDownload\">下载录音</el-button>\n        <el-button @click=\"handleDestroy\">删除录音器</el-button>\n\n        <el-button @click=\"handleAlert\">学生看过来！</el-button>\n    </div>\n</template>\n\n<script>\n    /* eslint-disable camelcase */\n\n    import EditDialog from './EditDialog';\n    import Recorder from 'recorder-js'; // 录音插件\n    // import CollapseTransition from 'element-ui/lib/transitions/collapse-transition';\n    // import Vue from 'vue'\n    //\n    // Vue.component(CollapseTransition.name, CollapseTransition);\n    export default {\n        name: 'Test',\n        data() {\n            var date = new Date();\n            var date2 = new Date();\n            date2.setTime(date.getTime() + 60 * 1000);\n            return {\n                host: {\n                    host1: window.location.host,\n                    host2: document.domain\n                },\n                my_url: window.location.href,\n                my_protocol: window.location.protocol,\n                my_path: location.pathname,\n\n                input: '',\n                dialog: {\n                    title: '一个平凡的标题',\n                    content: '一个平凡的段落。',\n                    visible: false,\n                    input: '',\n                    response: false\n                },\n                showColumn: true,\n                cookies: [],\n                exp_secs: 120,\n                new_cookie: {\n                    name: '',\n                    value: '',\n                },\n                cur_date: date.toUTCString(),\n                cur_date2: date2.toUTCString(),\n                recorder: undefined,\n                blob: undefined\n            };\n        },\n        sockets: {  // todo 学生端处理通知\n            alert: function (msg) {\n                this.$notify.warning({\n                    title: '收到通知',\n                    message: msg.content\n                });\n                if (msg.operation === 'SHOW_DIALOG.') {\n                    this.dialog.visible = true;\n                    this.dialog.title = msg.operation;\n                    this.dialog.content = msg.content;\n                }\n            }\n        },\n        methods: {\n            handleCreate() {\n                const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n                this.recorder = new Recorder(audioContext, {\n                    // An array of 255 Numbers\n                    // You can use this to visualize the audio stream\n                    // If you use react, check out react-wave-stream\n                    // onAnalysed: data => console.log('[data]', data),\n                });\n                navigator.mediaDevices.getUserMedia({ audio: true }).\n                          then(stream => this.recorder.init(stream)).\n                          catch(err => console.log('Uh oh... unable to get stream...', err));\n                console.log('[new recorder]', this.recorder);\n                this.$message.success('录制器已创建');\n            },\n            handleStartRecording() {\n                this.recorder.start().\n                     then(() => {\n                         this.$message('开始录制');\n                     });\n            },\n            handleStopRecording() {\n                this.recorder.stop().\n                     then(({ blob, buffer }) => {\n                         this.$message('结束录制');\n                         console.log('[stop recording]', blob, buffer);\n                         // buffer is an AudioBuffer\n                         this.blob = blob;\n                     });\n            },\n            handleDownload() {\n                Recorder.download(this.blob, 'my-audio-file');\n            },\n            handleDestroy() {\n                delete this.recorder;\n                this.$message.success('录制器已删除');\n            },\n            createDialog: function () {\n                this.dialog.visible = true;\n                this.dialog.input = this.input;\n            },\n            handleClose: function () {\n                if (this.dialog.response === true) {\n                    this.input = this.dialog.input;\n                }\n            },\n            getCookies: function () {\n                var str_cookie = document.cookie;\n                var list, cookie;\n                list = str_cookie.split(';');\n                this.cookies = [];\n                for (cookie of list) {\n                    this.cookies.push(cookie.trim());\n                }\n            },\n            createCookie: function () {\n                var str_cookie;\n                var d = new Date();\n                d.setTime(d.getTime() + this.exp_secs * 1000);\n                str_cookie = this.new_cookie.name + '=' + this.new_cookie.value + ';' + \"expires=\" + d.toUTCString(); // 这相当于一个字典，‘=’兼有判重和追加的作用\n                document.cookie = str_cookie;\n                this.getCookies();\n            },\n            handleAlert: function () {  // todo 教师端发送通知\n                var d = new Date();\n                var msg = {\n                    course_id: 7,\n                    operation: 'SHOW_DIALOG.',\n                    content: '教师这边的时间：' + d.toTimeString()\n                };\n                this.$socket.emit('alert', msg);\n                this.$message.info('正在广播给学生  ' + msg.content);\n            }\n        },\n        components: {\n            EditDialog,\n            // CollapseTransition\n        }\n    };\n</script>\n\n<style scoped>\n    .transition-box {\n        margin-bottom: 10px;\n        width: 200px;\n        height: 100px;\n        border-radius: 4px;\n        background-color: #409EFF;\n        text-align: center;\n        color: #fff;\n        padding: 40px 20px;\n        box-sizing: border-box;\n        margin-right: 20px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/components/developer/Test.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"test-view\"}},[_c('el-button',{on:{\"click\":_vm.handleCreate}},[_vm._v(\"创建录音器\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleStartRecording}},[_vm._v(\"开始录音\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.handleStopRecording}},[_vm._v(\"结束录音\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\"下载录音\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleDestroy}},[_vm._v(\"删除录音器\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleAlert}},[_vm._v(\"学生看过来！\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-88783d3e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/components/developer/Test.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88783d3e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Test.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Test.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Test.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88783d3e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Test.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-88783d3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/components/developer/Test.vue\n// module id = null\n// module chunks = ","module.exports = require('./lib/index.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/recorder-js/index.js\n// module id = hng7\n// module chunks = 2 4","var WORKER_ENABLED = !!(global === global.window && global.URL && global.Blob && global.Worker);\n\nfunction InlineWorker(func, self) {\n  var _this = this;\n  var functionBody;\n\n  self = self || {};\n\n  if (WORKER_ENABLED) {\n    functionBody = func.toString().trim().match(\n      /^function\\s*\\w*\\s*\\([\\w\\s,]*\\)\\s*{([\\w\\W]*?)}$/\n    )[1];\n\n    return new global.Worker(global.URL.createObjectURL(\n      new global.Blob([ functionBody ], { type: \"text/javascript\" })\n    ));\n  }\n\n  function postMessage(data) {\n    setTimeout(function() {\n      _this.onmessage({ data: data });\n    }, 0);\n  }\n\n  this.self = self;\n  this.self.postMessage = postMessage;\n\n  setTimeout(func.bind(self, self), 0);\n}\n\nInlineWorker.prototype.postMessage = function postMessage(data) {\n  var _this = this;\n\n  setTimeout(function() {\n    _this.self.onmessage({ data: data });\n  }, 0);\n};\n\nmodule.exports = InlineWorker;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/inline-worker/index.js\n// module id = vMSS\n// module chunks = 2 4","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable */\n/**\n * License (MIT)\n *\n * Copyright © 2013 Matt Diamond\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n */\n\n\nvar _inlineWorker = require('inline-worker');\n\nvar _inlineWorker2 = _interopRequireDefault(_inlineWorker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  bufferLen: 4096,\n  numChannels: 2,\n  mimeType: 'audio/wav'\n};\n\nvar Microphone = function () {\n  function Microphone(source, config) {\n    var _this = this;\n\n    _classCallCheck(this, Microphone);\n\n    this.config = Object.assign({}, defaultConfig, config);\n\n    this.recording = false;\n\n    this.callbacks = {\n      getBuffer: [],\n      exportWAV: []\n    };\n\n    this.context = source.context;\n    this.node = (this.context.createScriptProcessor || this.context.createJavaScriptNode).call(this.context, this.config.bufferLen, this.config.numChannels, this.config.numChannels);\n\n    this.node.onaudioprocess = function (e) {\n      if (!_this.recording) return;\n\n      var buffer = [];\n      for (var channel = 0; channel < _this.config.numChannels; channel++) {\n        buffer.push(e.inputBuffer.getChannelData(channel));\n      }\n      _this.worker.postMessage({\n        command: 'record',\n        buffer: buffer\n      });\n    };\n\n    source.connect(this.node);\n    this.node.connect(this.context.destination); //this should not be necessary\n\n    var self = {};\n    this.worker = new _inlineWorker2.default(function () {\n      var recLength = 0,\n          recBuffers = [],\n          sampleRate = void 0,\n          numChannels = void 0;\n\n      this.onmessage = function (e) {\n        switch (e.data.command) {\n          case 'init':\n            init(e.data.config);\n            break;\n          case 'record':\n            record(e.data.buffer);\n            break;\n          case 'exportWAV':\n            exportWAV(e.data.type);\n            break;\n          case 'getBuffer':\n            getBuffer();\n            break;\n          case 'clear':\n            clear();\n            break;\n        }\n      };\n\n      function init(config) {\n        sampleRate = config.sampleRate;\n        numChannels = config.numChannels;\n        initBuffers();\n      }\n\n      function record(inputBuffer) {\n        for (var channel = 0; channel < numChannels; channel++) {\n          recBuffers[channel].push(inputBuffer[channel]);\n        }\n        recLength += inputBuffer[0].length;\n      }\n\n      function exportWAV(type) {\n        var buffers = [];\n        for (var channel = 0; channel < numChannels; channel++) {\n          buffers.push(mergeBuffers(recBuffers[channel], recLength));\n        }\n        var interleaved = void 0;\n        if (numChannels === 2) {\n          interleaved = interleave(buffers[0], buffers[1]);\n        } else {\n          interleaved = buffers[0];\n        }\n        var dataview = encodeWAV(interleaved);\n        var audioBlob = new Blob([dataview], { type: type });\n\n        this.postMessage({ command: 'exportWAV', data: audioBlob });\n      }\n\n      function getBuffer() {\n        var buffers = [];\n        for (var channel = 0; channel < numChannels; channel++) {\n          buffers.push(mergeBuffers(recBuffers[channel], recLength));\n        }\n        this.postMessage({ command: 'getBuffer', data: buffers });\n      }\n\n      function clear() {\n        recLength = 0;\n        recBuffers = [];\n        initBuffers();\n      }\n\n      function initBuffers() {\n        for (var channel = 0; channel < numChannels; channel++) {\n          recBuffers[channel] = [];\n        }\n      }\n\n      function mergeBuffers(recBuffers, recLength) {\n        var result = new Float32Array(recLength);\n        var offset = 0;\n        for (var i = 0; i < recBuffers.length; i++) {\n          result.set(recBuffers[i], offset);\n          offset += recBuffers[i].length;\n        }\n        return result;\n      }\n\n      function interleave(inputL, inputR) {\n        var length = inputL.length + inputR.length;\n        var result = new Float32Array(length);\n\n        var index = 0,\n            inputIndex = 0;\n\n        while (index < length) {\n          result[index++] = inputL[inputIndex];\n          result[index++] = inputR[inputIndex];\n          inputIndex++;\n        }\n        return result;\n      }\n\n      function floatTo16BitPCM(output, offset, input) {\n        for (var i = 0; i < input.length; i++, offset += 2) {\n          var s = Math.max(-1, Math.min(1, input[i]));\n          output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n        }\n      }\n\n      function writeString(view, offset, string) {\n        for (var i = 0; i < string.length; i += 1) {\n          view.setUint8(offset + i, string.charCodeAt(i));\n        }\n      }\n\n      function encodeWAV(samples) {\n        var buffer = new ArrayBuffer(44 + samples.length * 2);\n        var view = new DataView(buffer);\n\n        /* RIFF identifier */\n        writeString(view, 0, 'RIFF');\n        /* RIFF chunk length */\n        view.setUint32(4, 36 + samples.length * 2, true);\n        /* RIFF type */\n        writeString(view, 8, 'WAVE');\n        /* format chunk identifier */\n        writeString(view, 12, 'fmt ');\n        /* format chunk length */\n        view.setUint32(16, 16, true);\n        /* sample format (raw) */\n        view.setUint16(20, 1, true);\n        /* channel count */\n        view.setUint16(22, numChannels, true);\n        /* sample rate */\n        view.setUint32(24, sampleRate, true);\n        /* byte rate (sample rate * block align) */\n        view.setUint32(28, sampleRate * 4, true);\n        /* block align (channel count * bytes per sample) */\n        view.setUint16(32, numChannels * 2, true);\n        /* bits per sample */\n        view.setUint16(34, 16, true);\n        /* data chunk identifier */\n        writeString(view, 36, 'data');\n        /* data chunk length */\n        view.setUint32(40, samples.length * 2, true);\n\n        floatTo16BitPCM(view, 44, samples);\n\n        return view;\n      }\n    }, self);\n\n    this.worker.postMessage({\n      command: 'init',\n      config: {\n        sampleRate: this.context.sampleRate,\n        numChannels: this.config.numChannels\n      }\n    });\n\n    this.worker.onmessage = function (e) {\n      var cb = _this.callbacks[e.data.command].pop();\n      if (typeof cb === 'function') {\n        cb(e.data.data);\n      }\n    };\n  }\n\n  _createClass(Microphone, [{\n    key: 'record',\n    value: function record() {\n      this.recording = true;\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.recording = false;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.worker.postMessage({ command: 'clear' });\n    }\n  }, {\n    key: 'getBuffer',\n    value: function getBuffer(cb) {\n      cb = cb || this.config.callback;\n\n      if (!cb) throw new Error('Callback not set');\n\n      this.callbacks.getBuffer.push(cb);\n\n      this.worker.postMessage({ command: 'getBuffer' });\n    }\n  }, {\n    key: 'exportWAV',\n    value: function exportWAV(cb, mimeType) {\n      mimeType = mimeType || this.config.mimeType;\n      cb = cb || this.config.callback;\n\n      if (!cb) throw new Error('Callback not set');\n\n      this.callbacks.exportWAV.push(cb);\n\n      this.worker.postMessage({\n        command: 'exportWAV',\n        type: mimeType\n      });\n    }\n  }]);\n\n  return Microphone;\n}();\n\nMicrophone.forceDownload = function forceDownload(blob, filename) {\n  var a = document.createElement('a');\n\n  a.style = 'display: none';\n  document.body.appendChild(a);\n\n  var url = window.URL.createObjectURL(blob);\n\n  a.href = url;\n  a.download = filename;\n  a.click();\n\n  window.URL.revokeObjectURL(url);\n\n  document.body.removeChild(a);\n};\n\nexports.default = Microphone;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/recorder-js/lib/microphone.js\n// module id = yXWK\n// module chunks = 2 4"],"sourceRoot":""}