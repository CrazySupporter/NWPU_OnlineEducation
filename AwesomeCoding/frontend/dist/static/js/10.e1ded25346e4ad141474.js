webpackJsonp([10],{O90n:function(t,i){},"Qf+u":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e={data:function(){return{info:{title:""},default_items:["title","id","description","notice","invitation_code"],translation:{id:"课程号",title:"课程名称",description:"课程简介",notice:"课程公告",invitation_code:"邀请码"},class_id:"undefined",invitation_url:"",loading:!0}},computed:{roleTitle:function(){return null!==this.course_status.role_title?this.course_status.role_title:"--"}},props:["course_status"],mounted:function(){this.class_id=this.$route.params.class_id,this.$http.post("/api/class/info/query",{class_id:this.class_id}).then(function(t){"NOT FOUND."===t.body.status?this.$message("Room "+this.title+" not found!"):(this.info=t.body.info,this.info.invitation_code&&""!==this.info.invitation_code?this.invitation_url="/course/invite/"+this.info.invitation_code:this.invitation_url="",this.handleUpdate()),this.loading=!1})},methods:{handleUpdate:function(){this.$refs.display_description.handleUpdate(this.info.description),this.$refs.display_notice.handleUpdate(this.info.notice)},handleJoin:function(){this.$router.push("/course/invite/"+this.info.invitation_code)},handleQuit:function(){this.$http.post("/api/class/participants/delete",{class_id:this.class_id,user_id:null}).then(function(t){"SUCCESS."===t.body.status?(this.$message("成功!"),history.go(0)):"TeacherCannotQuit."===t.body.details?this.$message("教师不能够退出班级!"):this.$message("失败!")})}},components:{ContentDisplay:s("mVAe").a}},a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("el-main",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"details-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\t\t\t\t基本信息\n\t\t\t\t\t")]),t._v(" "),s("div",[s("el-row",[s("el-col",{attrs:{span:8}},[t._v("班级名称")]),t._v(" "),s("el-col",{attrs:{span:16}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.info.title)+"\n\t\t\t\t\t\t\t")])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("我的角色")]),t._v(" "),s("el-col",{attrs:{span:16}},[t._v(t._s(t.roleTitle))])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("邀请链接")]),t._v(" "),s("el-col",{attrs:{span:16}},[""!==t.invitation_url?s("div",[s("a",{attrs:{href:t.invitation_url}},[t._v(t._s(t.info.invitation_code))])]):s("div",[t._v("\n\t\t\t\t\t\t\t\t\t私有课程，请向老师索要邀请码\n\t\t\t\t\t\t\t\t")])])],1)],1)])],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"details-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\t\t\t\t课程简介\n\t\t\t\t\t")]),t._v(" "),s("ContentDisplay",{ref:"display_description",attrs:{border:!1}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"details-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\t\t\t\t课程公告\n\t\t\t\t\t")]),t._v(" "),s("ContentDisplay",{ref:"display_notice",attrs:{border:!1}})],1)],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"details-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\t\t\t\t课程操作\n\t\t\t\t\t")]),t._v(" "),null===t.course_status.role_title?s("el-button",{on:{click:t.handleJoin}},[t._v("进入课程")]):t._e(),t._v(" "),null!=t.course_status.role_title?s("el-button",{on:{click:t.handleQuit}},[t._v("退出课程")]):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(e,a,!1,function(t){s("O90n")},null,null);i.default=n.exports}});
//# sourceMappingURL=10.e1ded25346e4ad141474.js.map