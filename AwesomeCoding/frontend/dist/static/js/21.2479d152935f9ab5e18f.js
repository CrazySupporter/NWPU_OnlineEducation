webpackJsonp([21],{Crh6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("mvHQ"),a=n.n(s),i=n("3IC3"),l={name:"SignIn",data:function(){return{title:"欢迎登录",inputs:{nickname:"",password:""},loadingQ:!1,expire_secs:360}},methods:{handleSignIn:function(){var e=this;this.loadingQ=!0,Object(i.loginSQL)(this,this.inputs).then(function(t){e.loadingQ=!1,e.$message.success("登录成功！"+t.results.realname),e.$emit("logined",t.results),self.location="/"}).catch(function(t){e.loadingQ=!1,"WRONG_PASSWORD."===t.details?e.$message.error("登录失败，密码错误！"):"USER_NOT_FOUND."===t.details?e.$message.error("登录失败，用户名不存在！"):e.$message.error("登录失败，未知错误！"+a()(t.details))})},handleForgetPassword:function(){this.$router.push("/user/forgetpassword"),this.loadingQ=!0},handleSignInbyPhone:function(){this.$router.push("/user/sign_inbyphone"),this.loadingQ=!0}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingQ,expression:"loadingQ"}],staticClass:"box-card"},[n("div",{staticClass:"clear-fix",attrs:{slot:"header"},slot:"header"},[n("h1",[e._v(e._s(e.title))])]),e._v(" "),n("el-input",{staticClass:"input-box",attrs:{placeholder:"用户名...",clearable:""},model:{value:e.inputs.nickname,callback:function(t){e.$set(e.inputs,"nickname",t)},expression:"inputs.nickname"}}),e._v(" "),n("div",{on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSignIn(t):null}}},[n("el-input",{staticClass:"input-box",attrs:{placeholder:"密码...",type:"password",clearable:""},model:{value:e.inputs.password,callback:function(t){e.$set(e.inputs,"password",t)},expression:"inputs.password"}})],1),e._v(" "),n("div",{attrs:{align:"center"}},[n("el-row",[n("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:e.handleSignIn}},[e._v("登录")])],1),e._v(" "),n("el-row",[n("el-button",{attrs:{type:"text"},on:{click:e.handleSignInbyPhone}},[e._v("手机号登录")]),e._v(" "),n("div",{staticStyle:{margin:"10px",display:"inline"}}),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:e.handleForgetPassword}},[e._v("忘记密码")])],1)],1)],1)},staticRenderFns:[]};var o=n("VU/8")(l,r,!1,function(e){n("dAv0")},"data-v-2bf8b327",null);t.default=o.exports},dAv0:function(e,t){}});
//# sourceMappingURL=21.2479d152935f9ab5e18f.js.map