{"version":3,"sources":["webpack:///src/views/MyTabPane.vue","webpack:///./src/views/MyTabPane.vue?3c16","webpack:///./src/views/MyTabPane.vue","webpack:///src/views/CourseDashboard.vue","webpack:///./src/views/CourseDashboard.vue?bbf2","webpack:///./src/views/CourseDashboard.vue"],"names":["MyTabPane","name","componentName","props","label","String","labelContent","Function","closable","Boolean","disabled","lazy","fly","data","index","loaded","computed","isClosable","this","$parent","active","currentName","paneName","watch","$forceUpdate","views_MyTabPane","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","role","aria-hidden","id","aria-labelledby","_t","_e","staticRenderFns","src_views_MyTabPane","__webpack_require__","normalizeComponent","default_options","item","Resources","vue_esm","component","CourseDashboard","title","undefined","activeTitle","activeIndex","class_resources","course_status","class_id","role_title","loading","new_problem_dialog_visible","sockets","message","msg","course_id","$route","params","console","log","$notify","realname","$socket","emit","alert","operation","$message","options","result","current_options","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","k","push","access","err","return","mounted","_this","getActiveName","$http","post","then","res","body","resources","status","results","details","warning","$router","error","catch","methods","whereIs","idx","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","handleNewProblemClose","$confirm","_","handleNewProblemConfirm","handleNewProblemCancel","onTabClick","arg","path","split","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","components","TabPane","views_CourseDashboard","staticStyle","min-height","type","on","tab-click","model","callback","$$v","_l","option","key","route","ref","refInFor","tag","_v","user","visible","width","before-close","update:visible","$event","slot","click","CourseDashboard_Component","CourseDashboard_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.ba4ea326257bdd9302df.js","sourcesContent":["<template>\n  <div\n    class=\"my-tab-pane\"\n    v-if=\"(!lazy || loaded) || active\"\n    v-show=\"active || fly\"\n\tv-visible=\"active || !fly\"\n    role=\"tabpanel\"\n    :aria-hidden=\"!active\"\n    :id=\"`pane-${paneName}`\"\n    :aria-labelledby=\"`tab-${paneName}`\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'ElTabPane',\n\n    componentName: 'ElTabPane',\n\n    props: {\n      label: String,\n      labelContent: Function,\n      name: String,\n      closable: Boolean,\n      disabled: Boolean,\n      lazy: Boolean,\n      fly: Boolean,\n    },\n\n    data () {\n      return {\n        index: null,\n        loaded: false\n      };\n    },\n\n    computed: {\n      isClosable () {\n        return this.closable || this.$parent.closable;\n      },\n      active () {\n        const active = this.$parent.currentName === (this.name || this.index);\n        if (active) {\n          this.loaded = true;\n        }\n        return active;\n      },\n      paneName () {\n        return this.name || this.index;\n      }\n    },\n\n    watch: {\n      label () {\n        this.$parent.$forceUpdate();\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/MyTabPane.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return ((!_vm.lazy || _vm.loaded) || _vm.active)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active || _vm.fly),expression:\"active || fly\"},{name:\"visible\",rawName:\"v-visible\",value:(_vm.active || !_vm.fly),expression:\"active || !fly\"}],staticClass:\"my-tab-pane\",attrs:{\"role\":\"tabpanel\",\"aria-hidden\":!_vm.active,\"id\":(\"pane-\" + _vm.paneName),\"aria-labelledby\":(\"tab-\" + _vm.paneName)}},[_vm._t(\"default\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b302513\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MyTabPane.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyTabPane.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyTabPane.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b302513\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyTabPane.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MyTabPane.vue\n// module id = null\n// module chunks = ","<template>\n\t<div>\n\t\t<el-tabs type=\"border-card\"\n\t\t\t\t @tab-click=\"onTabClick\"\n\t\t\t\t v-loading='loading'\n\t\t\t\t v-model='activeIndex'\n\t\t\t\t style='min-height:750px'\n\t\t\t\t :lazy='false'\n\t\t\t\t >\n\t\t\t\t <TabPane v-for=\"option in options\"\n\t\t\t\t\t\t  :disabled='option.disabled'\n\t\t\t\t\t\t  :label=\"option.name\"\n\t\t\t\t\t\t  :name=\"options.route\"\n\t\t\t\t\t\t  :key='option.index'\n\t\t\t\t\t\t  :fly='option.index === \"live\"'\n                 >\n\t\t\t\t\t<!-- 对于live模块，额外加一个fly的props，用于表示是否通过修改visible隐藏-->\n\t\t\t\t\t<components\n\t\t\t\t\t\tv-if='option.index !== \"live\" && !option.disabled'\n\t\t\t\t\t\tv-bind:is=\"option.component\"\n\t\t\t\t\t\t:course_status='course_status'\n\t\t\t\t\t\tclass='lecture-panel'\n\t\t\t\t\t\t:index='activeTitle'\n\t\t\t\t\t\t:ref='option.index'\n\t\t\t\t\t\t>\n\t\t\t\t\t</components>\n\t\t\t\t\t<components\n\t\t\t\t\t\tv-if='option.index === \"live\" && !option.disabled'\n\t\t\t\t\t\tv-bind:is=\"option.component\"\n\t\t\t\t\t\t:course_status='course_status'\n\t\t\t\t\t\tclass='lecture-panel'\n\t\t\t\t\t\t:index='activeTitle'\n\t\t\t\t\t\t:fly='fly'\n\t\t\t\t\t\t:ref='option.index'\n                        :user=\"user\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</components>\n\t\t\t\t </TabPane>\n\t\t</el-tabs>\n\n\t\t<el-dialog\n\t\t\ttitle=\"新的习题\"\n\t\t\t:visible.sync=\"new_problem_dialog_visible\"\n\t\t\twidth=\"30%\"\n\t\t\t:before-close=\"handleNewProblemClose\">\n\t\t\t<span>刚刚，老师发布了新的习题</span>\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"handleNewProblemCancel\">留在这里</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"handleNewProblemConfirm\">去看看</el-button>\n\t\t\t</span>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue';\nvar default_options = ['details'];\nimport {supported_resources} from '../utils/Resources';\nimport TabPane from './MyTabPane.vue';\n\nfor (let item in supported_resources) {\n\tVue.component('sub-'+supported_resources[item].name, supported_resources[item].component);\n}\n\nexport default {\n\tdata: function () {\n\t\treturn {\n\t\t\ttitle: undefined,//标题\n\t\t\tactiveTitle: 'details',\n\t\t\tactiveIndex: '',\n\t\t\tclass_resources: null,\n\t\t\tcourse_status : {\n\t\t\t\tclass_id: null,\n\t\t\t\trole_title: null,\n\t\t\t\trole: null,\n\t\t\t},\n\t\t\tloading: true,\n\t\t\tnew_problem_dialog_visible: false,\n\t\t};\n\t},\n    props: ['user'],\n\tsockets: {\n        message: function (msg) {       // 收到聊天消息\n            if (msg.course_id !== this.$route.params.class_id) return;  // 不在同一课程就不显示\n            console.log('[new message]', msg);\n            this.$notify({\n                title: msg.realname + (msg.course_status === 0 ? '（老师）' : '') + ':',\n                message: msg.message,\n                // duration: 0\n            });\n            this.$socket.emit('received');\n        },\n\t\talert: function (msg) {\n\t\t\tif (msg.operation === 'PROBLEM_PUBLISH.') {\n\t\t\t\tthis.$message(\"你有新的习题，快去看看吧!\");\n\t\t\t\t//this.new_problem_dialog_visible = true;\n\t\t\t\t//this.activeIndex = this.whereIs('train_area');\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tfly: function () {\n\t\t\treturn this.class_resources[this.activeIndex] !== 'live';\n\t\t},\n\t\toptions: function () {\n\t\t\tvar result = [];\n\t\t\tvar current_options = this.class_resources ? this.class_resources : default_options;\n\t\t\tlet role = this.course_status.role === null ? 3 : this.course_status.role;\n\t\t\tfor (var k of current_options) {\n\t\t\t\tresult.push({\n\t\t\t\t\tindex: k,\n\t\t\t\t\tname: supported_resources[k].title,\n\t\t\t\t\tcomponent: supported_resources[k].component,\n\t\t\t\t\tdisabled: !supported_resources[k].access[role]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t},\n\tmounted: function () {\n\t\tthis.activeIndex = this.getActiveName();\n\t\tthis.title = this.$route.params.class_id;\n\t\tthis.$http.post('/api/class/resources/query', {class_id: this.title}, null).\n\t\t\tthen((res) => {\n\t\t\t\tthis.class_resources = res.body.resources;\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.activeIndex = this.getActiveName();\n\t\t\t\treturn this.$http.post('/api/class/status', {class_id: this.title}, null);\n\t\t\t}).\n\t\t\tthen((res) => {\n\t\t\t\tif (res.body.status !== 'SUCCESS.') {\n\t\t\t\t\tif (res.body.details === 'NOT_LOGIN.') {\n\t\t\t\t\t\tthis.$message.warning(\"请先登录。\");\n                        this.$router.push('/user/sign_in');\n\t\t\t\t\t} else if (res.body.details === 'NOT_IN_CLASS.') {\n\t\t\t\t\t\tthis.$message.warning(\"用户没有加入班级\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message.error(\"错误，见console\");\n\t\t\t\t\t\tconsole.log('[error in dashboard]', res.body)\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.course_status.role = res.body.results.role;\n\t\t\t\t//this.course_status = res.body.results;\n\t\t\t\tif (this.course_status.role === 0) {\n\t\t\t\t\tthis.course_status.role_title = '教师';\n\t\t\t\t} else if (this.course_status.role === 1) {\n\t\t\t\t\tthis.course_status.role_title = '助教';\n\t\t\t\t} else if (this.course_status.role === 2) {\n\t\t\t\t\tthis.course_status.role_title = '学生';\n\t\t\t\t} else {\n\t\t\t\t\tthis.course_status.role_title = '未知';\n\t\t\t\t}\n\t\t\t\tthis.loading = false;\n\t\t\t}).\n\t\t\tcatch((res) => {\n\t\t\t\tthis.loading = false;\n\t\t\t});\n\t},\n\tmethods: {\n\t\twhereIs (name) {\n\t\t\tvar current_options = this.class_resources ? this.class_resources : default_options;\n\t\t\tlet idx = 0;\n\t\t\tfor (let k of current_options) {\n\t\t\t\tif (k === name) {\n                    return '' + idx;\n                }\n\t\t\t\tidx += 1;\n\t\t\t}\n\t\t\treturn '0';\n\t\t},\n\t\thandleNewProblemClose (done) {\n\t\t\tthis.$confirm('确认关闭？')\n\t\t\t\t.then(_ => {\n\t\t\t\t\tdone();\n\t\t\t\t})\n\t\t\t\t.catch(_ => {});\n\t\t},\n\t\thandleNewProblemConfirm () {\n\t\t\tthis.activeIndex = this.whereIs('train_area');\n\t\t\tthis.new_problem_dialog_visible = false;\n\t\t},\n\t\thandleNewProblemCancel () {\n\t\t\tthis.new_problem_dialog_visible = false;\n\t\t},\n\t\tonTabClick (arg) {\n\t\t\tthis.$router.push({name: 'class-' + this.options[arg.paneName].index, params: {class_id: this.title}});\n\t\t},\n\t\tgetActiveName () {\n\t\t\tvar current_options = this.class_resources ? this.class_resources : default_options;\n\t\t\tvar idx = 0;\n\t\t\tlet activeTitle = this.$route.path.split(\"/\")[3];\n\t\t\tfor (let k of current_options) {\n\t\t\t\tif (k === activeTitle) {\n\t\t\t\t\treturn ''+idx;\n\t\t\t\t}\n\t\t\t\tidx += 1;\n\t\t\t}\n\t\t\treturn '0';\n\t\t}\n\t},\n\tcomponents: {TabPane: TabPane}\n};\n</script>\n\n<style scoped>\n.lecture-panel {\n\theight: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/CourseDashboard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"min-height\":\"750px\"},attrs:{\"type\":\"border-card\",\"lazy\":false},on:{\"tab-click\":_vm.onTabClick},model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},_vm._l((_vm.options),function(option){return _c('TabPane',{key:option.index,attrs:{\"disabled\":option.disabled,\"label\":option.name,\"name\":_vm.options.route,\"fly\":option.index === \"live\"}},[(option.index !== \"live\" && !option.disabled)?_c(option.component,{ref:option.index,refInFor:true,tag:\"components\",staticClass:\"lecture-panel\",attrs:{\"course_status\":_vm.course_status,\"index\":_vm.activeTitle}}):_vm._e(),_vm._v(\" \"),(option.index === \"live\" && !option.disabled)?_c(option.component,{ref:option.index,refInFor:true,tag:\"components\",staticClass:\"lecture-panel\",attrs:{\"course_status\":_vm.course_status,\"index\":_vm.activeTitle,\"fly\":_vm.fly,\"user\":_vm.user}}):_vm._e()],1)})),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新的习题\",\"visible\":_vm.new_problem_dialog_visible,\"width\":\"30%\",\"before-close\":_vm.handleNewProblemClose},on:{\"update:visible\":function($event){_vm.new_problem_dialog_visible=$event}}},[_c('span',[_vm._v(\"刚刚，老师发布了新的习题\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleNewProblemCancel}},[_vm._v(\"留在这里\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleNewProblemConfirm}},[_vm._v(\"去看看\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-479142f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/CourseDashboard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-479142f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CourseDashboard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseDashboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseDashboard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-479142f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CourseDashboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-479142f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/CourseDashboard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}