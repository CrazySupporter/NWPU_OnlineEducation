webpackJsonp([1],{IqDn:function(t,e){},etsu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{chatrecords:[],forumid:"undefined",classid:"undefined",userid:"undefined",theme:"undefined",nickname:"undefined",inputData:{userId:void 0,forumId:void 0,message:void 0,classId:void 0,nickname:void 0}}},mounted:function(){var t=this;this.forumid=this.$route.params.forumid,this.inputData.forumId=this.forumid,this.$http.get("/api/user/session",{}).then(function(e){t.inputData.userId=e.body.user_id,t.inputData.nickname=e.body.nickname,t.$http.post("/api/chat/info/query/posts",{forumid:t.forumid}).then(function(t){"NOT FOUND."===t.body.status?this.$message("Room "+this.title+" not found!"):(this.chatrecords=t.body.chatrecords,this.userid=t.body.userid,this.classid=t.body.classid,this.theme=t.body.theme,this.nickname=t.body.nickname)})})},methods:{onSubmit:function(){this.$http.post("/api/chat/add_comments/posts",{userid:this.inputData.userId,forumid:this.forumid,message:this.inputData.message,classid:this.inputData.classId,nickname:this.inputData.nickname}).then(function(t){"SUCCESS."===t.body.status&&this.chatrecords.push(t.body.results)})},onClear:function(){this.$http.post("/api/chat/clear_comments",{classid:this.inputData.classId}).then(function(t){"SUCCESS."===t.body.status&&(this.chatrecords=[])})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-main",[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clear-fix",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("主题贴")])]),t._v(" "),s("div",[s("el-row",[s("el-col",{attrs:{span:10}},[s("h1",[t._v("发贴人")])]),t._v(" "),s("el-col",{attrs:{span:14}},[s("h1",[t._v(t._s(t.nickname))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:10}},[s("h1",[t._v("主题")])]),t._v(" "),s("el-col",{attrs:{span:14}},[s("h1",[t._v(t._s(t.theme))])])],1)],1),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.chatrecords,stripe:""}},[s("el-table-column",{attrs:{prop:"nickname",label:"回复人",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"message",label:"回复内容",width:"280"}}),t._v(" "),s("el-table-column",{attrs:{prop:"registration_date",label:"回复时间",width:"180"}})],1)],1),t._v(" "),s("el-form",[s("el-form-item",{attrs:{label:"Input "}},[s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.inputData.message,callback:function(e){t.$set(t.inputData,"message",e)},expression:"inputData.message"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("回复")])],1)],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(t){s("IqDn")},"data-v-cf32b1c8",null);e.default=n.exports}});
//# sourceMappingURL=1.dd665933ddb94b96d816.js.map